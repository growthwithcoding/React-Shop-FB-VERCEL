/* =========================
   THEME TOKENS & BASE
   ========================= */
:root{
  --bg:#f7f7f8;
  --panel:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --primary:#ffa41c;      /* brand orange */
  --primary-dark:#f08804; /* deeper orange */
  --border:#e5e7eb;
  --accent:#0ea5e9;
  --success:#16a34a;
  --danger:#dc2626;
  --radius:12px;
  --shadow:0 8px 20px rgba(0,0,0,.06);
  --nav-offset:88px;      /* sticky header height */
}

*{ box-sizing:border-box }
html, body, #root{ height:100% }
html{ scroll-behavior:smooth }               /* one smooth scroll declaration */
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--text);
  background:var(--bg);
}
#hero-start{ scroll-margin-top: var(--nav-offset); }  /* anchor offset for sticky nav */
.container{ max-width:1100px; margin:0 auto; padding:16px }

/* =========================
   UI PRIMITIVES
   ========================= */
/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 14px; border-radius:8px; border:1px solid transparent; cursor:pointer;
  font-weight:600; text-decoration:none; user-select:none;
  transition: transform .03s ease, background .15s ease, color .15s ease, opacity .15s ease;
}
.btn:active{ transform:translateY(1px) }
.btn-slim{ padding-top:6px; padding-bottom:6px; }
.btn-primary{ background:linear-gradient(#ffd159, var(--primary)); border-color:#d48806; color:#1f2937; }
.btn-primary:hover{ opacity:.98 }
.btn-secondary{ background:#fff; border:1px solid var(--border); color:#111; }
.btn-danger{ background:linear-gradient(#ffbdbd, #ff8c8c); border-color:#ef4444; color:#111; }
.btn-link{ background:transparent; border:0; color:var(--accent); padding:0 }

/* Inputs */
.input, .select, .textarea{
  width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:8px; background:#fff; outline:none;
}
.input:focus, .select:focus, .textarea:focus{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(14,165,233,.15) }

/* Badges */
.badge{ display:inline-block; min-width:20px; padding:2px 8px; border-radius:999px; border:1px solid var(--border); font-size:12px; color:#374151; background:#fff; font-weight:700; text-align:center }

/* Cards & layout */
.card{ background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow) }
.grid{ display:grid; gap:16px }
.grid.products{ grid-template-columns:repeat(auto-fill, minmax(260px,1fr)) }
.pill{ padding:2px 8px; border:1px solid var(--border); border-radius:999px; font-size:12px }

/* =========================
   NAVBAR (sticky)
   ========================= */
header, .site-nav, .topbar{
  position:sticky; top:0; z-index:60;
  background: rgba(255,255,255,.92);
box-shadow:0 1px 0 rgba(0,0,0,.06);
}
.site-nav{
  background: rgba(255,255,255,.92); border-bottom:1px solid rgba(0,0,0,.08); }
.site-nav .nav-inner{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 0; }
.brand{ font-weight:800; font-size:20px; text-decoration:none; color:#111; }
.brand:hover{ color:#ff9900; }
.nav-links{ display:flex; align-items:center; gap:14px; }
.nav-links a{ text-decoration:none; color:#111; font-weight:600; }
.nav-links a:hover{ color:#ff9900; }

/* =========================
   HERO v2
   ========================= */
.hero-v2{ display:grid; gap:20px; margin:6px 0 20px }
.hero-headline{ display:flex; align-items:flex-start; justify-content:space-between; gap:12px; }
.hero-title{ margin:0; }
.hero-title-row{ display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap; }
.hero-title-row .btn{ white-space:nowrap; 
  transition: transform .03s ease, background .15s ease, color .15s ease, opacity .15s ease;}
.hero-headline h1{ margin:0; font-size:clamp(26px, 3.4vw, 44px); line-height:1.05; letter-spacing:-0.02em; }
.hero-v2 .kicker{ display:inline-block; margin-bottom:8px; font-weight:700; color:#374151 }

.promo-grid{
  display:grid; gap:16px;
  grid-template-columns:1.1fr 1.1fr 1.1fr;
  grid-template-rows:220px 220px;
}
.promo-card{
  position:relative; overflow:hidden; border-radius:20px; border:1px solid var(--border); background:#fff; box-shadow:var(--shadow);
}
.promo-card.soft{ background:#eaf8f0; border-color:#d9f0e2; display:flex; flex-direction:column; justify-content:center; padding:20px; }
.promo-card .promo-btn{
  margin-top:14px; align-self:flex-start;
  background:#fff; border:1px solid var(--border); border-radius:999px; padding:8px 14px; font-weight:600; color:#111; box-shadow:var(--shadow);
}
.promo-img{ position:absolute; inset:0; display:block; }
.promo-img img{ width:100%; height:100%; object-fit:cover; filter:brightness(.88); }
.promo-overlay{
  position:absolute; inset:auto 0 0 0; padding:18px; color:#fff;
  text-shadow:0 2px 6px rgba(0,0,0,.35);
  font-size:clamp(18px, 2vw, 28px); font-weight:800;
}
.promo-overlay small{ display:block; font-weight:500; opacity:.9; margin-top:6px; font-size:14px }
.promo-grid .tall{ grid-row:1 / span 2; }

@media (max-width:900px){
  .promo-grid{ grid-template-columns:1fr 1fr; grid-template-rows:220px 220px 220px; }
  .promo-grid .tall{ grid-row:auto; }
}
@media (max-width:640px){
  .hero-headline{ flex-direction:column; align-items:flex-start }
  .promo-grid{ grid-template-columns:1fr; grid-template-rows:repeat(5,200px); }
}

/* =========================
   PRODUCT CARD
   ========================= */
.p-card{ display:flex; flex-direction:column; }
.p-card img{ width:100%; height:220px; object-fit:contain; background:#fff; border:1px solid var(--border); border-radius:12px }
.p-title{ font-weight:700; margin:8px 0 6px }
.meta{ color:var(--muted); font-size:13px }
.price{ font-weight:800 }

/* Single-line buy row: Price — Qty — Add button */
.buy-row{ display:flex; gap:10px; align-items:center; margin-top:8px; }
.buy-row .price{ font-weight:800; font-size:16px; white-space:nowrap; }
.buy-row .qty{ width:68px; height:40px; }
.buy-row .btn{ height:40px; 
  transition: transform .03s ease, background .15s ease, color .15s ease, opacity .15s ease;}

/* Stick the buy row bottom-right inside product card */
.p-card p.meta{ flex:1 1 auto; }
.p-card .buy-row{ margin-top:auto; justify-content:flex-end; }

/* =========================
   MODAL
   ========================= */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  display:flex; align-items:center; justify-content:center; z-index:50;
}
.modal{
  width:min(520px, 92vw);
  background:var(--panel); border:1px solid var(--border);
  border-radius:16px; box-shadow:var(--shadow); padding:18px;
}
.modal h3{ margin:0 0 8px }
.modal .actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:12px }

/* =========================
   BACK TO TOP
   ========================= */
.backtotop{
  position:fixed; right:20px; bottom:72px; width:44px; height:44px;
  border-radius:9999px; background:#ff9900; color:#fff; border:none;
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 10px 20px rgba(0,0,0,.15);
  opacity:0; transform:translateY(8px); pointer-events:none;
  transition:opacity .2s, transform .2s;
}
.backtotop.show{ opacity:1; transform:translateY(0); pointer-events:auto; }
.backtotop:hover{ background:#ffa01f; }
.backtotop:focus-visible{ outline:2px solid #ffa01f; outline-offset:2px; }
.backtotop svg{ width:20px; height:20px; }
@media (max-width:640px){ .backtotop{ bottom:88px; } }

/* =========================
   FOOTER
   ========================= */
.footer{ margin-top:40px; padding:32px 0 24px; border-top:1px solid var(--border); }
.footer .container{ max-width:1160px; margin:0 auto; padding:0 16px; }
.footer-columns{
  display:grid; gap:28px; row-gap:28px; align-items:start;
  grid-template-columns:1.6fr repeat(4, minmax(160px, 1fr));
}
.footer-columns h4{ margin:0 0 8px; font-size:16px }
.footer-columns h5{ margin:0 0 8px; font-size:14px; font-weight:700 }
.footer-columns p{ margin:0; color:var(--muted); line-height:1.4 }
.footer-columns ul{ list-style:none; padding:0; margin:0; display:grid; gap:6px }
.footer-columns a{ color:inherit; text-decoration:none }
.footer-columns a:hover{ text-decoration:underline }

.footer-bottom{
  margin-top:20px; padding-top:12px; border-top:1px solid rgba(0,0,0,.06);
  display:flex; justify-content:space-between; align-items:center;
}
.footer-logo{ width:140px; max-width:100%; height:auto; display:block; margin:0 0 10px; }
.footer-columns .about p{ max-width:60ch }

/* Popular row */
.foot-products{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin:4px 0 16px }
.foot-products.full{ display:grid; grid-template-columns:auto 1fr; gap:12px; align-items:start; width:100%; margin:6px 0 18px; }
.foot-products .foot-label{ white-space:nowrap; font-weight:700; color:var(--muted); margin-top:2px; }
.foot-products .foot-chips{ display:flex; flex-wrap:wrap; gap:8px; min-width:0 }
.chip{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:16px; font-size:13px; }
.chip.link{ text-decoration:none; color:inherit; }
.chip.link:hover{ background:#fff7e6; border-color:rgba(0,0,0,.15); }

/* Footer tag (orange pill) */
.footer-bottom .tag,
.footer-bottom .tag:visited{
  background:#ffb347; border:1px solid #ffb347; color:#fff;
  display:inline-block; padding:6px 10px; border-radius:999px; font-weight:600; text-decoration:none;
}
.footer-bottom .tag:hover,
.footer-bottom .tag:focus-visible{ background:#ffa01f; border-color:#ffa01f; color:#fff; text-decoration:none; }

@media (max-width:960px){ .footer-columns{ grid-template-columns:1fr 1fr; } }
@media (max-width:640px){
  .footer-columns{ grid-template-columns:1fr; }
  .foot-products.full{ grid-template-columns:1fr; gap:8px; }
  .footer-bottom{ flex-direction:column; gap:8px; align-items:flex-start; }
  .footer-logo{ width:120px; }
}

/* =========================
   TESTIMONIALS
   ========================= */
.testimonials{ display:grid; grid-template-columns:1fr 2fr; gap:24px; margin:40px 0 }
@media (max-width:900px){ .testimonials{ grid-template-columns:1fr } }

.t-left .t-kicker{ color:#6b7280; font-weight:700; margin:0 0 6px }
.t-left h2{ margin:0 0 8px; font-size:28px; line-height:1.2 }
.t-left .t-sub{ color:#6b7280; margin:0 }

.t-grid{ display:grid; grid-template-columns:1fr 1fr; gap:18px }
@media (max-width:700px){ .t-grid{ grid-template-columns:1fr } }

.t-card{ background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:14px; padding:18px; box-shadow:0 4px 20px rgba(0,0,0,.06) }
.t-stars{ display:flex; gap:4px; margin-bottom:10px }
.t-stars svg{ width:18px; height:18px; fill:#e5e7eb }
.t-stars svg.on{ fill:#f59e0b }
.t-text{ margin:8px 0 14px; color:#111827 }
.t-author{ display:flex; align-items:center; gap:10px }
.t-avatar{ width:32px; height:32px; border-radius:50%; background:#ff9900; color:#fff; display:grid; place-items:center; font-weight:700 }
.t-meta strong{ display:block }
.t-meta span{ color:#6b7280; font-size:12px }

/* =========================
   SUGGESTED GRID (optional)
   ========================= */
.suggested-section h3{ margin:20px 0 10px }
.suggested-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:12px }
@media (max-width:1100px){ .suggested-grid{ grid-template-columns:repeat(3,1fr) } }
@media (max-width:800px){ .suggested-grid{ grid-template-columns:repeat(2,1fr) } }
@media (max-width:540px){ .suggested-grid{ grid-template-columns:1fr } }

/* =========================
   TOASTS
   ========================= */
.toast{
  position:fixed; right:20px; bottom:72px; z-index:70;
  min-width:200px; max-width:320px; padding:10px 12px; border-radius:10px;
  border:1px solid rgba(0,0,0,.1); box-shadow:0 10px 24px rgba(0,0,0,.15);
  background:#fff; color:#111; font-weight:700;
}
.toast.success{ background:#ecfdf5; border-color:#bbf7d0; color:#065f46 }
.toast.error{ background:#fef2f2; border-color:#fecaca; color:#991b1b }

/* Coupon toast (inline, above input) */
.coupon-row{ position:relative; }
.toast.coupon{
  position:absolute; inset:auto auto 100% 0; transform:translateY(-8px); z-index:5;
  font-size:.875rem; font-weight:600; padding:6px 10px; border-radius:6px;
  min-width:auto; max-width:260px; text-align:left;
}
.toast.coupon.success{ background:#ecfdf5; border-color:#bbf7d0; color:#065f46 }
.toast.coupon.error{ background:#fef2f2; border-color:#fecaca; color:#991b1b }

/* =========================
   PAGE STRUCTURE
   ========================= */
#root{ min-height:100vh; display:flex; flex-direction:column; }
.page{ flex:1 0 auto; }
footer, .footer{ margin-top:auto; }  /* sticky footer on short pages */

/* =========================
   PERF/POLISH
   ========================= */
.btn, .iconwrap, .hero-media img {
  -webkit-backface-visibility:hidden; backface-visibility:hidden;
  transform:translateZ(0); will-change:opacity, transform;
}
.about-card{ contain:paint; }

.about-card{ contain:paint; }

/* compositor overrides */
.card{
  transform: none !important;
  will-change: opacity;     /* cheap hint; avoids unnecessary layer promotions */
}

@media (prefers-reduced-motion: reduce){
  *, *::before, *::after{
    transition: none !important;
    animation-duration: 0s !important;
    animation-iteration-count: 1 !important;
  }
}


/* compositor overrides (anti-flicker) */
/* Only promote small interactive bits; avoid large container promotions */
.btn, .iconwrap{ -webkit-backface-visibility:hidden; backface-visibility:hidden; transform:translateZ(0); will-change:opacity,transform; }
.about-card{ contain:paint; }
.about-hero{ isolation:isolate; }


/* anti-flicker compositor hints */
/* Only small elements get layers; large containers stay on CPU for stable text AA */
.btn, .iconwrap {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  transform: translateZ(0);
  will-change: opacity, transform;
}
.about-hero { isolation: isolate; }
.about-card { contain: paint; }

/* Hard override: never transform the hero card on hover (Windows text shimmer fix) */
.about-hero.card:hover {
  transform: none !important;
  translate: none !important; /* covers CSS 'translate' shorthand if used elsewhere */
}

/* === Auto‑injected: Product detail layout === */
.product-detail-card {
  display: flex;
  flex-direction: column;
}
.product-detail-card .buy-row {
  margin-top: auto;
  justify-content: flex-end; /* price left; qty + add aligned right */
}

/* === Auto‑injected: Checkout submit sizing === */
.checkout-submit {
  justify-self: end;   /* in grid: don't stretch */
  align-self: end;
  width: auto;
  margin-top: 12px;
}
@media (max-width: 640px){
  .checkout-submit { width: 100%; justify-self: stretch; }
}
